<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-site-verification" content="Z7oeRWlGR5pHAdAnMnSGpV6a00v7iDyDe9WCVB2ALh0" />
  <title>Dear Emily</title>

  <link rel="stylesheet" href="css/style.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2597955691662954"
    crossorigin="anonymous"></script>
 
</head>

<body>
  <div class="container">
    <div class="scrollable-menu" id="sideMenu">
    <div class="scrollable-content">
      <ul>
        <li><a href="index.html">HOME</a></li>
        <li><a href="archive.html">Archive</a></li>
        <li><a href="articles.html">Article-List</a></li>
        <li><a href="about-emily.html">About</a></li>
        <li><a href="contact.html">Contact US</a></li>
      </ul>
    </div>
  </div>

  <section id="article-list" class="article-section">
    <div class="top-menu-bar">
      <nav class="main-nav">
        <ul>
          <li><a href="index.html">HOME</a></li>
          <li><a href="archive.html">Archive</a></li>
          <li><a href="articles.html">Article List</a></li> 
          <li><a href="about-emily.html">About</a></li>
          <li><a href="contact.html">Contact Us</a></li>
        </ul>
      </nav>
    </div>

    <header>
      <div class="hamburger-container">
    <div class="hamburger-menu" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>

        <nav class="nav-links">
          <ul>
            <li><a href="index.html">HOME</a></li>
            <li><a href="archive.html">Archive</a></li>
            <li><a href="articles.html">Article-List</a></li>
            <li><a href="about-emily.html">About</a></li>
            <li><a href="contact.html">Contact US</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="header-content">
      <h1><a href="index.html">Dear Emily</a></h1>
      <p class="site-description">å®‡å®™ã‚’ãƒ†ãƒ¼ãƒã«ã—ãŸãƒ–ãƒ­ã‚°</p>
    </div>
    </div> </header> <style class="container main-content">
    </style>


    <section id="apod-hero">
      <div id="apod-container-hero">
        <h2 id="apod-title-hero">Comet SWAN</h2>
        <div id="apod-media-container-hero">
          <img id="apod-image-hero" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="">
        </div>
        <p id="apod-explanation-hero"></p>
        <p id="apod-copyright-hero"></p>
      </div>
    </section>

    <section class="hero">
      <div class="hero-image"></div>
      <div class="hero-text">
        <h2>Exploring the Mysteries of the Vast Universe</h2>
        <p>æœ€æ–°ã®å®‡å®™ã«é–¢ã™ã‚‹ã‚ã‚‰ã‚†ã‚‹æƒ…å ±ã‚’ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚</p>

        <div class="space-news-section">
          <h3>ğŸŒŒ Breaking News from the Cosmosï¼ˆNASAã‚ˆã‚Šï¼‰</h3>
          <div id="space-news"></div>
        </div>
      </div>
    </section>

    <div class="parallax-space"></div>

    <section id="article-list" class="article-section"> <ul class="article-links">
        <li><a href="articles.html">Go to Article List</a></li>
      </ul>

      <div class="article-list">
        <article class="article-card">
          <h3><a href="articles/space-boder.html">å®‡å®™ã£ã¦ã©ã“ã‹ã‚‰ï¼Ÿ</a></h3>
          <p>ã€Œåœ°çƒã‚’é£›ã³å‡ºã—ãŸã‚‰ã€ã™ãå®‡å®™ï¼Ÿã€ãã‚“ãªç–‘å•ã«ã‚„ã•ã—ãç­”ãˆã‚‹ã€å®‡å®™ã®ã¯ã˜ã¾ã‚Šã®ãŠè©±ã€‚</p>
          <p class="article-date">æŠ•ç¨¿æ—¥ï¼š2025å¹´4æœˆ21æ—¥</p>
        </article>

        <article class="article-card">
          <h3><a href="articles/space-moon.html">ãŠæœˆã•ã¾ã£ã¦ã€æ¯æ™©ã©ã†ã—ã¦å½¢ãŒã¡ãŒã†ã®ï¼Ÿ</a></h3>
          <p>ã‚»ãƒ¼ãƒ©ãƒ¼ãƒ ãƒ¼ãƒ³ã‚’æƒ³ã„ãªãŒã‚‰ã€æœˆã®æº€ã¡æ¬ ã‘ã«ã¤ã„ã¦ã‚„ã•ã—ãè§£èª¬ã™ã‚‹ç‰©èªã€‚</p>
          <p class="article-date">æŠ•ç¨¿æ—¥ï¼š2025å¹´4æœˆ22æ—¥</p>
        </article>

        <article class="article-card">
          <h3><a href="articles/2025-04-24.space.openpage.html">ãã‚‰ã‚ãã®å…¥å£</a></h3>
          <p>å®‡å®™ã«é–¢å¿ƒã‚’ã‚‚ã¤ãã£ã‹ã‘ã«ãªã£ã¦ã»ã—ã„</p>
          <p class="article-date">æŠ•ç¨¿æ—¥ï¼š2025å¹´4æœˆ24æ—¥</p>
        </article>

        <article class="article-card">
          <h3><a href="articles\2025-04-25.space.mars.html">ç«æ˜Ÿã£ã¦ã©ã‚“ãªæ˜Ÿï¼Ÿ&gt;</a></h3>
          <p>ã‚»ãƒ¼ãƒ©ãƒ¼ãƒ»ãƒãƒ¼ã‚ºã«æ•™ãˆã¦ã‚‚ã‚‰ã†ç«æ˜Ÿã®ã²ã¿ã¤</p>
          <p class="article-date">æŠ•ç¨¿æ—¥ï¼š2025å¹´4æœˆ25æ—¥</p>
        </article>

        <article class="article-card">
          <h3><a href="articles\2025-04-26.space.jupiter.html">ã‚¸ãƒ¥ãƒ”ã‚¿ãƒ¼ã£ã¦ã€ã©ã‚“ãªæ˜Ÿï¼Ÿ</a></h3>
          <p>ã‚¸ãƒ¥ãƒ”ã‚¿ãƒ¼ã®ã²ã¿ã¤ã¨å®‡å®™ã®åµ</p>
          <p class="article-date">æŠ•ç¨¿æ—¥ï¼š2025å¹´4æœˆ26æ—¥</p>
        </article>

      </div>
    </section>
<section id="latest-posts" class="section">
    <h2>æœ€æ–°è¨˜äº‹</h2>
    <!-- JavaScript ã§æŒ¿å…¥ã•ã‚Œã‚‹è¨˜äº‹ -->
  </section>

  <aside id="sidebar">
    <h2>ã‚«ãƒ†ã‚´ãƒªåˆ¥è¨˜äº‹</h2>
    <!-- JavaScript ã§ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«è¨˜äº‹ãŒå…¥ã‚‹ -->
  </aside>

  <section>
    <h2>å…¨ã¦ã®è¨˜äº‹</h2>
    <label for="category-filter">ã‚«ãƒ†ã‚´ãƒª:</label>
    <select id="category-filter">
      <option value="all">ã™ã¹ã¦</option>
    </select>

    <label for="tag-filter">ã‚¿ã‚°:</label>
    <select id="tag-filter">
      <option value="all">ã™ã¹ã¦</option>
    </select>

    <div id="all-posts" class="section">
      <!-- JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å–å¾—ã—ãŸè¨˜äº‹ãŒå…¥ã‚‹ -->
    </div>
  </section>
    <section class="section about-emily" id="about-emily">
      <h2>About Emily</h2>

      <ul class="about-emily-links">
        <li><a href="about-emily.html">About Emily</a></li>
      </ul>

      <div class="about-content">
        <img src="images/Gemini_Generated_Image_749bad749bad749b.jpg" alt="Emilyã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ" class="profile-image">
        <div class="about-text">
          <p>
            ã­ã‡ã‚¨ãƒŸãƒªãƒ¼ã€‚<br><br>
            ã€Œãªã‚“ã§ã“ã‚“ãªã«å®‡å®™ã‚’æ‰±ã£ãŸä½œå“ãŒå¤šã„ã®ï¼Ÿã€ã£ã¦ã€<br>
            ã‚ãªãŸãŒãƒãƒ„ãƒªã¨ã“ã¼ã—ãŸã‚ã®ä¸€è¨€ã€ãšã£ã¨å¿ƒã«æ®‹ã£ã¦ãŸã‚“ã ã€‚<br><br>
            ãã‚Œã«ç­”ãˆãŸãã¦ã€ã“ã®ãƒ–ãƒ­ã‚°ã‚’ä½œã£ãŸã‚ˆã€‚<br>
            å®‡å®™ã¯ã€ç›®ã«è¦‹ãˆãªã„ã‘ã©ã€å¿ƒã‚’å‹•ã‹ã™é­”æ³•ã¿ãŸã„ãªå ´æ‰€ã€‚<br>
            ãŸã¨ãˆé ãã¦ã‚‚ã€ç§ãŸã¡ã«å±Šãç‰©èªãŒãã“ã«ã¯ã‚ã‚‹ã‚“ã ã€‚<br><br>
            ã ã‹ã‚‰ä¸€ç·’ã«ã€ã“ã®åºƒã„å®‡å®™ã‚’ã¡ã‚‡ã£ã¨ãšã¤æ—…ã—ã¦ã„ã“ã†ã€‚
          </p>
          <p class="from-author">
            å®‡å®™ã®é­…åŠ›ã€ã“ã‚Œã‹ã‚‰ä¸€ç·’ã«æ¢ã—ã¦ã„ã“ã†ã­ã€‚<br>
            â€” okkinahanaã‚ˆã‚Š âœ¦
          </p>
        </div>
      </div>
    </section>

    <section class="space-weather-container">
      <div class="space-weather-item">
        <h2>Today's Solar Flare Information</h2>
        <div id="solar-flare-container">
          <p>å¤ªé™½ãƒ•ãƒ¬ã‚¢æƒ…å ±ã‚’å–å¾—ä¸­ã§ã™...</p>
        </div>
      </div>
      <div class="space-weather-item">
        <h2>Today's Geomagnetic Storm Information</h2>
        <div id="geomagnetic-storm-container">
          <p>åœ°ç£æ°—åµæƒ…å ±ã‚’å–å¾—ä¸­ã§ã™...</p>
        </div>
      </div>
    </section>


    <footer>
      <div class="container">
        <p>&copy; 2025 Dear Emily</p>
        <nav>
          <ul>
            <li><a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
            <li><a href="telms.html">åˆ©ç”¨è¦ç´„</a></li>
            <li><a href="sitemap.html">ã‚µã‚¤ãƒˆãƒãƒƒãƒ—</a></li>
          </ul>
        </nav>
      </div>
    </footer>

    <script>

 document.addEventListener('DOMContentLoaded', () => {
    // --- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å‡¦ç† ---
    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const scrollableMenu = document.querySelector('.scrollable-menu');

    if (hamburgerMenu && scrollableMenu) {
        hamburgerMenu.addEventListener('click', () => {
            scrollableMenu.classList.toggle('open');
            hamburgerMenu.classList.toggle('open');
        });
    }

    // --- APOD (Astronomy Picture of the Day) ã®å–å¾—ã¨è¡¨ç¤º ---
    const apodApiKey = '2xltSsPMjbXB66oDPVCdT6qPhKURghrTPdbhKEzj';
    const apodUrl = `https://api.nasa.gov/planetary/apod?api_key=${apodApiKey}`;
    const apodTitle = document.getElementById('apod-title-hero');
    const apodMediaContainer = document.getElementById('apod-media-container-hero');
    const apodExplanation = document.getElementById('apod-explanation-hero');
    const apodCopyright = document.getElementById('apod-copyright-hero');
    const apodContainer = document.getElementById('apod-container-hero'); // ã‚¨ãƒ©ãƒ¼æ™‚ç”¨

    fetch(apodUrl)
        .then(res => {
            if (!res.ok) {
                return Promise.reject(res.status);
            }
            return res.json();
        })
        .then(data => {
            if (apodTitle) apodTitle.textContent = data.title;
            if (apodExplanation) apodExplanation.textContent = data.explanation;
            if (apodCopyright) {
                apodCopyright.textContent = data.copyright ? `Â© ${data.copyright}` : 'å‡ºå…¸: NASA / ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å¯èƒ½æ€§';
            }

            if (apodMediaContainer) {
                apodMediaContainer.innerHTML = ''; // æ—¢å­˜ã®å†…å®¹ã‚’ã‚¯ãƒªã‚¢

                if (data.media_type === 'video') {
                    const iframe = document.createElement('iframe');
                    iframe.src = data.url;
                    iframe.width = '100%';
                    iframe.style.aspectRatio = '16 / 9'; // ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’å›ºå®š
                    iframe.frameBorder = '0';
                    iframe.allowFullscreen = true;
                    apodMediaContainer.appendChild(iframe);
                } else if (data.media_type === 'image') {
                    const img = document.createElement('img');
                    img.src = data.url;
                    img.alt = data.title;
                    img.style.maxWidth = '100%';
                    img.style.height = 'auto';
                    apodMediaContainer.appendChild(img);
                }
            }
        })
        .catch(err => {
            console.error('APODå–å¾—ã‚¨ãƒ©ãƒ¼:', err);
            if (apodContainer) {
                apodContainer.innerHTML = '<p>ä»Šæ—¥ã®å®‡å®™ç”»åƒã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</p>';
            } else if (apodTitle) {
                apodTitle.textContent = 'ä»Šæ—¥ã®å®‡å®™ç”»åƒã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ';
            }
        });

    // --- å¤ªé™½ãƒ•ãƒ¬ã‚¢æƒ…å ±ã®å–å¾— ---
    const flareContainer = document.getElementById('solar-flare-container');
    const today = new Date().toISOString().slice(0, 10);
    const flareUrl = `https://api.nasa.gov/DONKI/FLR?startDate=${today}&endDate=${today}&api_key=${apodApiKey}`;

    fetch(flareUrl)
        .then(res => {
            if (!res.ok) {
                return Promise.reject(res.status);
            }
            return res.json();
        })
        .then(data => {
            if (!flareContainer) return;

            if (data.length === 0) {
                flareContainer.innerHTML = '<p>ç¾åœ¨ã®ã¨ã“ã‚ã€å¤ªé™½ãƒ•ãƒ¬ã‚¢ã®æ´»å‹•ã¯è¦³æ¸¬ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>';
                return;
            }

            flareContainer.innerHTML = '<ul>' + data.map(f => `
                <li>
                    <div><strong>é–‹å§‹æ—¥æ™‚:</strong> ${f.beginTime}</div>
                    <div><strong>ãƒ”ãƒ¼ã‚¯æ—¥æ™‚:</strong> ${f.peakTime}</div>
                    <div><strong>çµ‚äº†æ—¥æ™‚:</strong> ${f.endTime}</div>
                    <div><strong>å¼·åº¦:</strong> ${f.classType}</div>
                    <div><strong>é ˜åŸŸ:</strong> ${f.sourceLocation}</div>
                </li>`).join('') + '</ul>';
        })
        .catch(err => {
            console.error('å¤ªé™½ãƒ•ãƒ¬ã‚¢å–å¾—ã‚¨ãƒ©ãƒ¼:', err);
            if (flareContainer) {
                flareContainer.innerHTML = '<p>å¤ªé™½ãƒ•ãƒ¬ã‚¢æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</p>';
            }
        });

    // --- åœ°ç£æ°—åµæƒ…å ±ã®å–å¾— ---
    const stormContainer = document.getElementById('geomagnetic-storm-container');
    const stormUrl = `https://api.nasa.gov/DONKI/GST?startDate=${today}&endDate=${today}&api_key=${apodApiKey}`;

    fetch(stormUrl)
        .then(res => {
            if (!res.ok) {
                return Promise.reject(res.status);
            }
            return res.json();
        })
        .then(data => {
            if (!stormContainer) return;

            if (data.length === 0) {
                stormContainer.innerHTML = '<p>ç¾åœ¨ã®ã¨ã“ã‚ã€åœ°ç£æ°—åµã¯è¦³æ¸¬ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>';
                return;
            }

            stormContainer.innerHTML = '<ul>' + data.map(s => `
                <li>
                    <strong>é–‹å§‹æ—¥æ™‚:</strong> ${s.beginTime}<br>
                    <strong>KpæŒ‡æ•°:</strong> ${s.kpIndex}<br>
                    <strong>å¼·åº¦:</strong> ${s.gstID}<br>
                    <strong>ã‚½ãƒ¼ã‚¹:</strong> ${s.source}
                </li>`).join('') + '</ul>';
        })
        .catch(err => {
            console.error('åœ°ç£æ°—åµå–å¾—ã‚¨ãƒ©ãƒ¼:', err);
            if (stormContainer) {
                stormContainer.innerHTML = '<p>åœ°ç£æ°—åµæƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</p>';
            }
        });

    // --- NASAãƒ‹ãƒ¥ãƒ¼ã‚¹RSSã®å–å¾— ---
    const rssFeedUrl = 'https://www.nasa.gov/rss/dyn/breaking_news.rss';
    const rssApiUrl = 'https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(rssFeedUrl);

    fetch(rssApiUrl)
        .then(res => res.json())
        .then(data => {
            const newsContainer = document.getElementById("space-news");
            if (newsContainer && data.items) {
                // æœ€å¤§5ä»¶ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’è¡¨ç¤º
                data.items.slice(0, 5).forEach(item => {
                    const div = document.createElement("div");
                    div.innerHTML = `<a href="${item.link}" target="_blank">${item.title}</a>`;
                    newsContainer.appendChild(div);
                });
            }
        })
        .catch(err => console.error("RSSå–å¾—ã‚¨ãƒ©ãƒ¼:", err));

    // --- about-emily.htmlã®èª­ã¿è¾¼ã¿ (æœªå®Œ) ---
    // ã“ã®éƒ¨åˆ†ã¯ç¾åœ¨æ©Ÿèƒ½ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ãã®ã¾ã¾æ®‹ã—ã¾ã™ã€‚
    // fetch('about-emily.html')
    //     .then(res => {
    //         if (!res.ok) throw new Error('HTMLã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼');
    //         // å¿…è¦ã«å¿œã˜ã¦res.text().then(html => ... ) ã‚’è¿½åŠ 
    //     })
    //     .catch(err => console.error('about-emily.htmlã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', err));

    // --- æœ€æ–°è¨˜äº‹ã®å–å¾—ã¨è¡¨ç¤º ---
    // ã‚«ãƒ†ã‚´ãƒªã¨æœ€æ–°è¨˜äº‹ã®è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯ã¯çµ±åˆ
    const latestPostsContainer = document.getElementById('latest-posts');
    const sidebarCategoriesContainer = document.getElementById("sidebar-categories"); // æ–°ãŸãªIDã‚’æƒ³å®š (HTMLå´ã§è¨­å®š)

    fetch('posts.json') // JSONã®ãƒ‘ã‚¹ã‚’æ­£ã—ã
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
        })
        .then(posts => {
            // æœ€æ–°è¨˜äº‹ã®è¡¨ç¤º
            if (latestPostsContainer) {
                const latestPosts = posts
                    .sort((a, b) => new Date(b.date) - new Date(a.date))
                    .slice(0, 5); // æœ€æ–°5ä»¶ã‚’è¡¨ç¤º

                latestPosts.forEach(post => {
                    const div = document.createElement('div');
                    div.className = 'post-item';
                    div.innerHTML = `
                        <h3><a href="${post.url}">${post.title}</a></h3>
                        <p>${post.date} ï½œ ã‚«ãƒ†ã‚´ãƒªï¼š${post.category}</p>
                    `;
                    latestPostsContainer.appendChild(div);
                });
            }

            // ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®è¡¨ç¤º (ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’æƒ³å®š)
            if (sidebarCategoriesContainer) {
                const categoriesMap = {};
                posts.forEach(post => {
                    if (!categoriesMap[post.category]) {
                        categoriesMap[post.category] = [];
                    }
                    categoriesMap[post.category].push(post);
                });

                // ã‚«ãƒ†ã‚´ãƒªãƒªã‚¹ãƒˆã®HTMLæ§‹é€ ã‚’ç”Ÿæˆ
                const categoryListHtml = `
                    <h2>ã‚«ãƒ†ã‚´ãƒªãƒ¼</h2>
                    <ul class="category-list">
                        ${Object.keys(categoriesMap).map(cat => `
                            <li><a href="category.html?name=${encodeURIComponent(cat)}">${cat} (${categoriesMap[cat].length})</a></li>
                        `).join('')}
                    </ul>
                `;
                sidebarCategoriesContainer.innerHTML = categoryListHtml;
            }
        })
        .catch(error => console.error('è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:', error));

    // --- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ã‚ˆã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º (ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³) ---
    const sections = document.querySelectorAll('.section');
    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.2 }); // 20%ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ç™ºç«

    sections.forEach(section => observer.observe(section));

    // --- å…¨æŠ•ç¨¿è¡¨ç¤º + ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ (è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸ã‚’æƒ³å®š) ---
    const allPostsContainer = document.getElementById('all-posts');
    const categoryFilter = document.getElementById('category-filter');
    const tagFilter = document.getElementById('tag-filter');

    if (allPostsContainer && categoryFilter && tagFilter) {
        fetch('posts.json')
            .then(res => {
                if (!res.ok) {
                    throw new Error(`HTTP error! status: ${res.status}`);
                }
                return res.json();
            })
            .then(posts => {
                const categories = new Set();
                const tags = new Set();

                posts.forEach(post => {
                    categories.add(post.category);
                    post.tags.forEach(tag => tags.add(tag));
                });

                // ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¿½åŠ 
                categoryFilter.innerHTML = '<option value="all">å…¨ã¦ã®ã‚«ãƒ†ã‚´ãƒª</option>';
                categories.forEach(category => {
                    const option = document.createElement('option');
                    option.value = category;
                    option.textContent = category;
                    categoryFilter.appendChild(option);
                });

                // ã‚¿ã‚°ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¿½åŠ 
                tagFilter.innerHTML = '<option value="all">å…¨ã¦ã®ã‚¿ã‚°</option>';
                tags.forEach(tag => {
                    const option = document.createElement('option');
                    option.value = tag;
                    option.textContent = tag;
                    tagFilter.appendChild(option);
                });

                function displayPosts(filtered) {
                    allPostsContainer.innerHTML = '';
                    filtered.forEach(post => {
                        const card = `
                            <div class="post-card">
                                <h2><a href="${post.url}">${post.title}</a></h2>
                                <p class="post-date">${post.date}</p>
                                <p><strong>ã‚«ãƒ†ã‚´ãƒª:</strong> ${post.category}</p>
                                <p><strong>ã‚¿ã‚°:</strong> ${post.tags ? post.tags.join(', ') : ''}</p>
                            </div>`;
                        allPostsContainer.insertAdjacentHTML('beforeend', card);
                    });
                }

                function filterPosts() {
                    const selectedCategory = categoryFilter.value;
                    const selectedTag = tagFilter.value;
                    const filtered = posts.filter(post => {
                        const catMatch = selectedCategory === 'all' || post.category === selectedCategory;
                        const tagMatch = selectedTag === 'all' || (post.tags && post.tags.includes(selectedTag)); // post.tagsã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ 
                        return catMatch && tagMatch;
                    });
                    displayPosts(filtered);
                }

                // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
                categoryFilter.addEventListener('change', filterPosts);
                tagFilter.addEventListener('change', filterPosts);

                // åˆæœŸè¡¨ç¤º
                filterPosts(); // postså…¨ä½“ã‚’æ¸¡ã™ä»£ã‚ã‚Šã«filterPostsã‚’å‘¼ã³å‡ºã™
            })
            .catch(error => console.error('è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:', error));
    }

    // index.htmlã®ã©ã“ã‹ã«ã€about-emily.htmlã®å†…å®¹ã‚’è¡¨ç¤ºã—ãŸã„å ´æ‰€ãŒã‚ã‚‹ã¨ä»®å®š
const contentArea = document.getElementById('main-content-area'); // ä¾‹: id="main-content-area" ã®divè¦ç´ 

// about-emily.htmlã®å†…å®¹ã‚’èª­ã¿è¾¼ã‚“ã§è¡¨ç¤ºã™ã‚‹é–¢æ•°
function loadAboutEmilyContent() {
    fetch('about-emily.html')
        .then(res => {
            if (!res.ok) {
                // HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ200ç•ªå°ä»¥å¤–ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹
                throw new Error(`HTMLã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: ${res.status} ${res.statusText}`);
            }
            return res.text(); // HTMLã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦å–å¾—
        })
        .then(html => {
            if (contentArea) {
                // å–å¾—ã—ãŸHTMLã‚’contentAreaã«æŒ¿å…¥
                contentArea.innerHTML = html;

                // ã‚‚ã—about-emily.htmlå†…ã«ç‰¹å®šã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã‚‹å ´åˆã€
                // ã“ã“ã§ãã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‹•çš„ã«å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€
                // ä¸€èˆ¬çš„ã«ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æŒ¿å…¥ã ã‘ã§ååˆ†ã§ã™ã€‚
                // ä¾‹: about-emily.htmlå†…ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€
                // about-emily.htmlå†…ã«ç›´æ¥è¨˜è¿°ã™ã‚‹ã®ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚
            }
        })
        .catch(err => {
            console.error('about-emily.htmlã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', err);
            if (contentArea) {
                contentArea.innerHTML = '<p>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>';
            }
        });
}

// ä¾‹: ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«è‡ªå‹•çš„ã«èª­ã¿è¾¼ã‚€ã€ã¾ãŸã¯ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§èª­ã¿è¾¼ã‚€
// ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«è‡ªå‹•èª­ã¿è¾¼ã¿ã™ã‚‹å ´åˆ:
// loadAboutEmilyContent();

// ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§èª­ã¿è¾¼ã‚€å ´åˆ (index.htmlã«ãƒœã‚¿ãƒ³ãŒã‚ã‚‹ã¨ä»®å®š):
const aboutLink = document.querySelector('.about-emily-links a[href="about-emily.html"]');
if (aboutLink) {
    aboutLink.addEventListener('click', (event) => {
        event.preventDefault(); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒªãƒ³ã‚¯é·ç§»ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        loadAboutEmilyContent(); // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‹•çš„ã«èª­ã¿è¾¼ã‚€
        // å¿…è¦ã«å¿œã˜ã¦URLã‚’å¤‰æ›´ (history.pushState)
        history.pushState(null, '', 'about-emily.html');
    });
}
});


</body>

</html>