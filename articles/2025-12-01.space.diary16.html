<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>エミリーの星日記 — 2025年12月1日〜12月7日</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Handlee&family=Zen+Maru+Gothic:wght@300;400;700&family=Merriweather:wght@400;700&family=Montserrat:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>

        /* --- 変数定義 (カラーパレットとタイポグラフィ) --- */
        :root {
            /* カラーパレット */
            --primary-color: #2962ff; /* 青系 */
            --secondary-color: #64b5f6; /* 水色系 */
            --text-color-primary: #f0f0f0; /* 明るい文字 */
            --text-color-secondary: #cccccc; /* やや薄い文字 */
            --bg-color-primary: #0b0f1a; /* 濃い背景 (宇宙の闇) */
            --bg-color-secondary: #1a1d2e; /* やや明るい背景 (記事ブロック) */
            --border-color: #333; /* 線の色 */
            --highlight-color: #ffd1dc; /* ハイライト色 (ピンク/桜色) */
            --highlight-color-light: #ffc0cb;
            --highlight-color-dark: #f9a8d4;

            /* シャドウ */
            --box-shadow-light: 0 4px 12px rgba(0, 0, 0, 0.2);
            --box-shadow-medium: 0 8px 20px rgba(0, 0, 0, 0.3);
            --box-shadow-pink-light: 0 8px 20px rgba(255, 182, 193, 0.2);
            --box-shadow-pink-medium: 0 12px 32px rgba(255, 182, 193, 0.4);

            /* フォントファミリー */
            --font-family-japanese: 'Noto Sans JP', sans-serif;
            --font-family-english: 'Montserrat', sans-serif;
            --font-family-serif-popular: 'Merriweather', serif;
            --font-family-handlee: 'Handlee', cursive;
            --font-family-zen-maru-gothic: 'Zen Maru Gothic', sans-serif;

            /* タイポグラフィ基本設定 */
            --line-height-body: 1.8;
            --letter-spacing-body: 0.01em;
        }

        /* --- 全体的な基本スタイル --- */
        html {
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            padding: 0;
            width: 100%;
            overflow-x: hidden;
            font-family: var(--font-family-zen-maru-gothic), var(--font-family-japanese);
            font-size: 16px;
            line-height: var(--line-height-body);
            letter-spacing: var(--letter-spacing-body);
            background: linear-gradient(to bottom, var(--bg-color-primary), var(--bg-color-secondary));
            color: var(--text-color-primary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
        }

        .container {
            margin: 0 auto;
            padding: 0;
            box-sizing: border-box;
            position: relative;
            max-width: 1200px;
        }

        /* --- リンクスタイル --- */
        a {
            color: var(--highlight-color);
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }

        a:hover {
            color: var(--highlight-color-light);
            text-decoration: underline;
        }

        /* --- スクロールプログレスバー用のスタイル (script.jsが参照) --- */
        #scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: var(--highlight-color);
            z-index: 1000;
            width: 0%;
            transition: width 0.1s linear;
        }

        /* --- セクションの共通スタイル --- */
        .section {
            padding: 60px 20px;
            margin: 0 auto;
            max-width: 960px;
            box-sizing: border-box;
            text-align: center;
            /* script.jsによるアニメーションの初期設定 */
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s ease, transform 1s ease;
        }
        /* script.jsによって追加されるクラス */
        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* === 記事詳細ページのスタイル (article-detail) === */
        .article-detail {
            max-width: 800px;
            margin: 40px auto;
            padding: 30px;
            background: var(--bg-color-secondary);
            border-radius: 12px;
            box-shadow: var(--box-shadow-medium);
            color: var(--text-color-primary);
            text-align: left;
        }
        
        /* 記事ブロックのh1スタイルをheroタイトルから変更 */
        .article-header h1.hero {
            /* 提案CSSのh1定義を継承 */
            font-family: var(--font-family-english), var(--font-family-zen-maru-gothic);
            font-size: 2.8em;
            color: var(--highlight-color);
            margin-bottom: 20px;
            margin-top: 0;
            line-height: 1.2;
            text-shadow: none;
            text-align: center;
        }

        /* 本文のスタイル */
        .article-detail p {
            font-family: var(--font-family-zen-maru-gothic), var(--font-family-japanese);
            font-size: 1.1em;
            line-height: var(--line-height-body);
            margin-bottom: 1.5em;
            color: var(--text-color-primary);
            text-align: left;
            overflow-wrap: break-word;
            word-break: break-all;
        }
        .article-header .lead {
            font-size: 1.25em;
            line-height: 2.0;
            margin: 30px 0 0;
            padding: 20px;
            border-left: 5px solid var(--highlight-color);
            background-color: rgba(26, 29, 46, 0.5);
            text-align: left;
            color: var(--text-color-primary);
            font-style: italic;
        }


        .article-detail img, .img-wrap img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
            border-radius: 12px;
            box-shadow: var(--box-shadow-light);
        }
        
        /* 記事内 h2 スタイルを提案CSSに統一 */
        .article-detail h2 {
            font-family: var(--font-family-japanese);
            font-size: 1.8em;
            color: var(--primary-color);
            margin-top: 2.5em;
            margin-bottom: 1em;
            position: relative;
            padding-bottom: 0.5em;
            border-bottom: 2px solid var(--border-color);
            display: inline-block;
            left: 0;
            text-align: left;
        }
        .article-detail h2::before {
            content: "✨";
            margin-right: 10px;
            font-size: 0.8em;
            margin-left: 0;
        }
        
        /* 記事内 h3/h4 も左揃えに統一 */
        .article-detail h3 {
            font-family: var(--font-family-montserrat), sans-serif;
            font-size: 1.6em;
            color: var(--text-color-primary);
            margin-top: 40px;
            margin-bottom: 15px;
            padding-left: 15px;
            border-left: 4px solid var(--highlight-color);
            text-align: left;
        }
        .article-detail h4 {
            font-family: var(--font-family-japanese), sans-serif;
            font-size: 1.3em;
            color: var(--primary-color);
            margin-top: 30px;
            margin-bottom: 10px;
            padding: 5px 0;
            border-bottom: 1px dotted var(--text-color-secondary);
            text-align: left;
        }
        

        /* 引用スタイル */
        .quote {
            background: rgba(255, 209, 220, 0.1);
            border-left: 4px solid var(--highlight-color);
            padding: 1rem;
            margin: 1.5rem 0;
            font-style: italic;
            border-radius: 4px;
            color: var(--text-color-primary);
            font-family: var(--font-family-zen-maru-gothic), var(--font-family-japanese);
            text-align: left;
        }
        /* 詩的な引用は中央寄せを維持 */
        .quote.poem {
            font-family: var(--font-family-zen-maru-gothic), var(--font-family-japanese);
            font-size: 1.3em;
            color: var(--highlight-color);
            border-left: none;
            border-top: 1px solid var(--highlight-color);
            border-bottom: 1px solid var(--highlight-color);
            padding: 25px 30px;
            margin: 40px auto;
            background-color: rgba(255, 209, 220, 0.05);
            line-height: 1.7;
            text-align: center;
            font-style: normal;
            white-space: pre-wrap;
        }


        /* APODセクションのスタイル (IDをscript.jsに合わせて変更) */
        #apod {
            padding: 25px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            background-color: var(--bg-color-primary);
            text-align: center;
            max-width: 960px;
            margin: 40px auto;
            box-shadow: var(--box-shadow-pink-medium);
        }
        .apod-card {
            padding: 15px;
            border-radius: 8px;
            background-color: var(--bg-color-secondary);
            color: var(--highlight-color);
            font-size: 1.2em;
            margin-bottom: 15px;
        }
        #apod-content > div:first-child {
            font-family: var(--font-family-english);
            font-size: 1.5em;
            margin-bottom: 5px;
            color: var(--highlight-color);
            text-align: center;
        }
        #apod-content p {
            line-height: 1.6;
            margin-top: 10px;
            font-size: 0.95em;
            text-align: left;
            color: var(--text-color-secondary);
            font-family: var(--font-family-japanese);
        }
        
        /* APOD画像用のクラス */
        .apod-img {
            max-width: 100%;
            border-radius: 8px;
        }


        /* ハンバーガーメニュー関連（記事ページなので不要だが定義を保持） */
        .hamburger-menu, .scrollable-menu, .nav-links {
            display: none;
        }
        
        /* 広告プレースホルダを提案CSSに置き換え */
        .ad-placeholder {
            height: 160px;
            background: #fff;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-family: var(--font-family-zen-maru-gothic);
            margin: 40px 0;
        }
        
        /* 区切り線 */
        .separator {
            border: none;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--highlight-color-dark), transparent);
            margin: 60px 0;
        }
        /* 次の記事へのボタン */
        .next-article-section .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 25px;
            font-weight: bold;
            margin-top: 15px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .next-article-section .btn:hover {
            background-color: #4c7cff;
            transform: translateY(-2px);
            text-decoration: none;
        }
        /* コンテンツ内のimg-placeholderの再定義 */
        .img-placeholder {
            width: 100%;
            height: 420px;
            background-color: var(--bg-color-primary); /* 変数を使用 */
            color: var(--text-color-primary); /* 変数を使用 */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            margin: 20px 0;
            padding: 1rem;
            box-shadow: var(--box-shadow-light); /* 変数を使用 */
            font-family: var(--font-family-japanese);
            font-size: 1.2em;
        }
        .caption {
            font-size: 0.9rem;
            color: var(--text-color-secondary);
            margin-top: 0.5rem;
            text-align: center;
        }
   
</style>
</head>
<body>

<div class="container">
<article class="article-detail">

<header class="article-header">
<section class="section hero" id="intro">
<h1 class="hero">エミリーの星日記 — 12/1〜12/7</h1>
<p class="meta">冬の夜が深まる頃、星たちの静かな動きと新しい出会いを見つめる一週間</p>

<div class="img-placeholder" role="img" aria-label="12月上旬の夜空イメージ">
ここに夜空イメージを挿入
</div>

<p class="lead">
親愛なる夜空を眺める友人へ。  
12月の始まり、この一週間は月の満ち欠けや惑星の配置が私たちの心を穏やかに揺らす時です。  
冬の澄んだ空気を吸い込みながら、温かい飲み物を片手に、星たちの声を聞きましょう。
</p>
</section>
</header>

<hr class="separator">

<section class="section" id="events">
<h2>今週の主な天文現象</h2>

<h3>太陽：射手座に滞在中</h3>
<p>12月1日現在、太陽は射手座にあり、冒険心や学びの意欲をもたらします。冬至に向かう光の短さと、射手の拡張エネルギーが重なり、内と外のバランスを感じられる週です。</p>

<h3>月：上弦前の細い月（12/3頃）</h3>
<p>夜空で観察できる月は徐々に満ちる途中で、双眼鏡でもクレーターの陰影を楽しめます。上弦前の月は、物事を整えるタイミングと重なります。</p>

<h3>惑星：金星・木星・火星の見どころ</h3>
<p>明け方、東の低空に明るい金星と木星が並び、双眼鏡での観測にも適しています。火星はやや高めの南東に輝き、冬の星座の中で赤く目立ちます。</p>

<h3>流星群：小規模活動</h3>
<p>この週は主要流星群の極大はありませんが、夜空の暗い場所では小規模な流星の観察も可能です。</p>

<div class="img-placeholder" role="img" aria-label="惑星配置イメージ"></div>
</section>

<hr class="separator">

<section class="section" id="interpretation">
<h2>星たちが伝える週の気分</h2>
<p class="lead">
冬の冷たい空気に包まれながら、星たちは穏やかに動きます。射手座の太陽は、私たちに外へ向かう冒険心をもたらし、月や惑星の位置は日々の小さな選択を整える手助けをします。
</p>
<p class="quote poem">
夜空を見上げれば、遠くの星たちが語りかける。  
心を静め、明日への一歩をそっと踏み出す勇気をくれる。
</p>
</section>

<hr class="separator">

<section class="section" id="daily-guide">
<h2>日ごとの星見メモ</h2>
<h4>12月1日（月）</h4>
<p>射手座の太陽の光を感じながら、東の空の明るい星や惑星を探してみてください。</p>
<h4>12月2日（火）</h4>
<p>静かな夜、双眼鏡で月のクレーターを観察。心を落ち着ける時間に最適です。</p>
<h4>12月3日（水）</h4>
<p>上弦前の月。物事を整え、次の行動に向けて準備するのに良い日。</p>
<h4>12月4日（木）〜12月7日（日）</h4>
<p>冬の星座を東から順に見上げ、神話や文化を思い浮かべながら観察を楽しむことができます。</p>

<div class="img-placeholder" role="img" aria-label="日別観測マップ"></div>
</section>
         <div id="apod">
          <div class="apod-card">
            <strong>今日の宇宙の光（APOD）</strong>
            <div id="apod-content">読み込み中…（APIキーは設定が必要です）</div>
<script>
    document.addEventListener('DOMContentLoaded', function(){
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting) e.target.classList.add('visible');
        });
      },{threshold:0.12});
      document.querySelectorAll('.section').forEach(s=>io.observe(s));
    });
  </script>

  <script>
    (function(){
      const apodEl = document.getElementById('apod-content');
      const apiKeyApod = 'DEMO_KEY'; // 実運用時は自身のAPIキーに置き換えてください
      const url = `https://api.nasa.gov/planetary/apod?api_key=${apiKeyApod}`;

      fetch(url).then(r=>r.json()).then(data=>{
        if(data && data.url){
          const isImage = data.media_type === 'image';
          apodEl.innerHTML = '';
          const title = document.createElement('div'); title.textContent = data.title || 'APOD';
          const date = document.createElement('div'); date.className='meta'; date.textContent = data.date || '';
          apodEl.appendChild(title); apodEl.appendChild(date);
          if(isImage){
            // apod-imgクラスをここで付与
            const img = document.createElement('img'); img.src = data.url; img.alt = data.title || 'APOD image'; img.className = 'apod-img'; apodEl.appendChild(img);
          } else {
            const link = document.createElement('a'); link.href = data.url; link.textContent = 'APODを表示する'; link.target='_blank'; apodEl.appendChild(link);
          }
          if(data.explanation){
            const ex = document.createElement('p'); ex.textContent = data.explanation; apodEl.appendChild(ex);
          }
        } else {
          apodEl.textContent = 'APODデータの取得に失敗しました。';
        }
      }).catch(err=>{
        apodEl.textContent = 'APODの読み込み中にエラーが発生しました。';
        console.error(err);
      });
    })();
  </script>
<hr class="separator">

<section class="section next-article-section" id="next">
<h2>次のお話へ</h2>
<p>来週は冬至直前の空と惑星たちを眺める週です。夜空で会いましょう。</p>
<p><a class="btn" href="/dear-emily/weekly/2025-12-08-12-14.html">→ 次のお話</a></p>
</section>

</article>
</div>

<script>
// IntersectionObserverでアニメーション
document.addEventListener('DOMContentLoaded', function(){
    const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
            if(e.isIntersecting) e.target.classList.add('visible');
        });
    },{threshold:0.12});
    document.querySelectorAll('.section').forEach(s=>io.observe(s));
});
</script>
</body>
</html>